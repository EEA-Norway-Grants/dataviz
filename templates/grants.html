{% extends "dataviz.html" %}

{% block top %}
{% endblock %}

{% block main %}
<div class="grant-dataviz" id="financial-mechanisms">
  <mechanisms
      :width="800"
      :initial="data"
  >
  </mechanisms>
</div>

<div class="grant-dataviz" id="priority-sectors">
  <sectors
      :width="800"
      :height="200"
      datasource="{% url "api:sector-allocation" %}"
  >
  </sectors>
</div>

<div class="grant-dataviz" id="beneficiary-states">
  <beneficiaries
      :width="500"
      :min-height="200"
      datasource="{% url "api:beneficiary-allocation" %}"
  >
  </beneficiaries>
</div>
{% endblock %}

{% block aside %}
    <div id="sidebar-results">
    </div>
{% endblock %}

{% block finally %}
<script>
new Vue({
  el: '#financial-mechanisms',
  components: {
      mechanisms: components.Mechanisms,
  },
  data: {
    //datasource: '{#% url "api:fm-allocation" %#}',
    data: {
      EEA: 993500000,
      Norway: 804600000,
    },
  },
});

new Vue({
  el: '#priority-sectors',
  components: {
      sectors: components.Sectors,
  },
  data: {
  },
});

new Vue({
  el: '#beneficiary-states',
  components: {
    beneficiaries: components.Beneficiaries,
  },
  data: {
  },
});
</script>
{% endblock %}
