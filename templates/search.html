{% extends "_layout-sidebar.html" %}

{% block top %}
  <div class="search-top">
    <div class="container">
      <div class="search-top-inner">
        <h1 class="page-title">Search</h1>
        <form class="search-form" id="main-search-form">
          <span class="input-box">
            <input type="search" placeholder="Search" name="q" autofocus>
          </span>
          <button type="submit" class="btn btn-primary">Search</button>
        </form>

        <div class="search-tabs">
          <span class="muted">Search for:</span>
          <a href="#programmes" class="is-selected">Programmes</a>
          <a href="#projects">Projects</a>
          <a href="#organizations">Organizations</a>
        </div>

      </div>
    </div>
  </div>
{% endblock %}

{% block main %}

  <div class="search-results">
    <div class="search-results-header">
      <span class="search-results-count">
        {{ paginator.count }} results found
      </span>
      <span class="search-results-options">
        <select name="" id="" class="subtle-select">
          <option value="">10 results per page</option>
        </select>
         |
        <select name="" id="" class="subtle-select">
          <option value="">Sorted by Country A-Z</option>
        </select>
      </span>
      <button type="button" class="btn btn-default" id="toggle-sidebar-filters">
        Filter results
      </button>
    </div>

    <ul class="no-list">
      {% for res in page_obj.object_list %}
      <li>
        <div class="search-result search-result-programme">
          <span class="country">
            <img src="" alt="flag"> {{ res.state_name.0 }}
          </span>
          <h4 class="title"><a href="{{ res.url }}">{{ res.programme_name.0 }}</a></h4>
          <p class="description">{{ res.text }}</p>
        </div>
      </li>
      {% endfor %}
    </ul>


    <div class="search-results-footer">
      <div class="pagination">
        <a href="" class="pagination-next">Next</a>
        <a href="" class="pagination-previous">Previous</a>
        <div class="pagination-pages">
          <a href="">1</a>
          <a href="" class="is-current-page">2</a>
          <a href="">3</a>
          <a href="">4</a>
          <a href="">5</a>
        </div>
      </div>
    </div>

  </div>
{% endblock %}

{% block aside %}
  <div id="sidebar-filters" class="sidebar sidebar-filters">
    <div class="sidebar-header">
      <h3 class="sidebar-title">Search filters</h3>
      <button class="no-btn small muted" type="reset">Reset</button>
      <button class="no-btn small muted" id="toggle-sidebar-filters-close" type="button">Close</button>
    </div>
    <div class="sidebar-body">

      <!--
      {% if page_obj.object_list %}
      <div class="input-group">
        <div class="input-box input-block">
          <label for="funding-period-facet">Funding period</label>
          <select name="" id="funding-period-facet">
            <option value="">2009 - 2014</option>
          </select>
        </div>
      </div>
      -->

      {% if facets.fields.state_name %}
      <div class="input-group">
        <div class="input-box input-block">
          <label for="state-facet">Beneficiary State</label>
          <select name="state_name" id="state-facet" form="main-search-form">
            {% for st in facets.fields.state_name %}
              <option value="{{ st.0 }}">{{ st.0 }} ({{ st.1 }})</option>
            {% endfor %}
          </select>
        </div>
      </div>
      {% endif %}
      {% endif %}

    </div>
  </div>
{% endblock %}
